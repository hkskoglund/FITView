<!DOCTYPE html>
<!-- Basert på http://www.html5rocks.com/en/tutorials/file/dndfiles/#toc-selecting-files-dnd -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>FITView</title>
   <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDvei58o_T1ViClyqpY9728ob_RhbhbiRg&sensor=false">
    </script>
    <script defer="defer" src="Scripts/modernizr-2.6.2.js"></script>
    <script src="Scripts/jquery-1.9.0.js"></script>
   
    <script src="Scripts/knockout-2.2.1.debug.js"></script>
    <script src="Scripts/knockout.mapping-latest.debug.js"></script>
    <script defer="defer" src="Scripts/highcharts.src.js"></script>
    <script src="Scripts/FITUtility.js"></script>
    <script defer="defer" src="Scripts/FITSport.js"></script>
    <script defer="defer" src="Scripts/FITView.js"></script>
    
    <link href="Stylesheets/StyleMain.css" rel="stylesheet"/>
</head>
<body>
    <header >
        <h1>FIT View</h1>
    </header>

    <div>
        <input style="display:inline; float : left" id="inpFITFile" type="file" />
    <progress  class="FITprogressImport"  id="progressFITimport" max="100" data-bind="value: progressFITimport" ></progress>

    </div>
    
    <div id="divSessionLap" >

        <section id="divSessions"  >
         
              <!-- <h4>Sessions</h4>-->
         
            <!-- ko if: $root && $root.timestamp -->
            <section id="sessionList" data-bind="foreach: timestamp">
                
                
                <article>
                   
                    <a href="#">
                        <!-- ko if: $parent.sport  &&  $parent.sport()[$index()] === 1 -->
                        <img class="sessionSport" src="Images/sport/running.png"  />
                        <!-- /ko -->
                        
                        <!-- ko if: $parent.sport && $parent.sport()[$index()] === 2 -->
                        <img class="sessionSport" src="Images/sport/cycling.png"   />
                        <!-- /ko -->
                        
                        <!-- ko if: $parent.sport  && $parent.sport()[$index()] === 5 -->
                        <img class="sessionSport" src="Images/sport/swimming.png"  />
                        <!-- /ko -->

                        
                         <!-- ko if: $parent.total_elapsed_time  && $parent.total_elapsed_time().length > 0  -->
                        <time><span class="sessionHHMMSS" data-bind="text: $parent.total_elapsed_time()[$index()].toHHMMSS()"></span></time>
                        <!-- /ko -->

                        
                         <!-- ko if: $parent.total_timer_time   && 
                             $parent.total_timer_time().length > 0
                            -->
                       
                        <time><span class="sessionHHMMSS" data-bind="text: $parent.total_timer_time()[$index()].toHHMMSS()"></span></time>
                        <!-- /ko -->
                   
                       

                        <!-- ko if: $parent.total_distance  && $parent.total_distance().length > 0 -->
                            <span class="sessionTOTALDISTANCE" data-bind="text: $parent.total_distance()[$index()]"></span>m
                        <!-- /ko -->
                       
                       
                         <!-- ko if: $parent.total_calories  && $parent.total_calories()[$index()] > 0 -->
                        <img class="inlineIcon" src="Images/kcalorie.png"  />
                       
                        <span data-bind="text: $parent.total_calories()[$index()]"></span>
                        <!-- /ko -->

                        <!-- ko if: ($parent.avg_heart_rate && $parent.avg_heart_rate().length > 0) || ($parent.max_heart_rate  && $parent.max_heart_rate().length > 0) -->
                        <img class="inlineIcon" src="Images/heart.png"  />
                        <!-- /ko -->
                        
                        <!-- HEART RATE -->

                         <!-- ko if: $parent.avg_heart_rate  &&  $parent.avg_heart_rate()[$index()]  >= 0 -->
                        <span data-bind="text: $parent.avg_heart_rate()[$index()]"></span>
                        <!-- /ko -->
                       
                         <!-- ko if:  $parent.max_heart_rate  && $parent.max_heart_rate()[$index()] >= 0 -->
                        <span data-bind="text: $parent.max_heart_rate()[$index()]"></span>
                        <!-- /ko -->

                        <!-- SPEED -->

                        <!-- ko if: ($parent.avg_speed  && $parent.avg_speed().length > 0) || ($parent.max_speed !== undefined && $parent.max_speed().length > 0) -->
                        <img class="inlineIcon" src="Images/speed.png"  />
                        <!-- /ko -->
                        
                         
                        <!-- BIKING/GENERIC -->
                        <!-- ko if: $parent.sport()[$index()] === 2 || $parent.sport()[$index()] === 0 || $parent.tempoOrSpeed() === 1 -->

                        <!-- ko if: $parent.avg_speed  &&
                            $parent.avg_speed().length > 0 -->
                        <!-- ko with: $parent.avg_speed()[$index()].toKMprH() -->
                        <span data-bind="text: $data"></span>
                        <!-- /ko -->
                        <!-- /ko -->

                        <!-- ko if: $parent.max_speed  &&
                            $parent.max_speed().length > 0 -->
                        <!-- ko with: $parent.max_speed()[$index()].toKMprH() -->
                        <span data-bind="text: $data"></span>
                        <!-- /ko -->
                        <!-- /ko -->
                        <!-- /ko -->
                      
                        <!-- RUNNING -->

                        <!-- ko if: $parent.sport()[$index()] === 1 || $parent.tempoOrSpeed() === 0 -->
                         
                        <!-- ko if: $parent.avg_speed && $parent.avg_speed()[$index()] -->
                        <span data-bind="text: $parent.avg_speed()[$index()].toMINprKM()"></span>
                         <!-- /ko -->

                        <!-- ko if: $parent.max_speed && $parent.max_speed()[$index()] -->
                        <span data-bind="text: $parent.max_speed()[$index()].toMINprKM()"></span>
                         <!-- /ko -->
                       <!-- /ko -->
                       
                        <!-- CADENCE/STRIDES -->

                       <!-- ko if: ($parent.avg_cadence && $parent.avg_cadence()[$index]) ||
                           ( $parent.max_cadence && $parent.max_cadence()[$index()]) ||
                           ( $parent.total_cycles_strides && $parent.total_cycles_strides()[$index()]) -->
                        <img class="inlineIcon" src="Images/cadence.png"  />
                        <!-- /ko -->

                        <!-- ko if: $parent.avg_cadence -->
                        
                        <!-- ko if: $parent.avg_cadence()[$index()] -->
                        <span data-bind="text: $parent.avg_cadence()[$index()]"></span>
                         <!-- /ko -->
                        <!-- /ko -->
                      
                        
                        <!-- ko if: $parent.max_cadence -->
                        
                        <!-- ko if: $parent.max_cadence()[$index()] -->
                        <span data-bind="text: $parent.max_cadence()[$index()]"></span>
                         <!-- /ko -->
                        <!-- /ko -->
                      

                      <!-- ko if: $parent.total_cycles_strides -->
                        
                        <!-- ko if: $parent.total_cycles_strides()[$index()] -->
                        <span data-bind="text: $parent.total_cycles_strides()[$index()]"></span>
                      
                      <!-- /ko -->
                        <!-- /ko -->

                        <!-- ASCENT/DESCENT -->

                        <!-- ko if: ($parent.total_ascent &&  $parent.total_ascent()[$index()])  || ($parent.total_descent && $parent.total_descent()[$index()])  -->
                                      
                        <img  class="inlineIcon" src="Images/ascent.png"  />
                        
                        <span data-bind="text: $parent.total_ascent()[$index()]"></span>
                        
                        <span data-bind="text: $parent.total_descent()[$index()]"></span>
                        
                        <!-- /ko -->

                        <!-- ko if: $parent.total_training_effect &&  $parent.total_training_effect()[$index()] -->
                        TE
                        <span  data-bind="text: $parent.total_training_effect()[$index()]"></span>
                        
                        <!-- meter tag ignored in  IE 10, but works in Chrome -->
                        <meter style="padding-left:5px" high="4" low="1.5" min="1" max="5" data-bind="value: $parent.total_training_effect()[$index()]"></meter>
                        <!-- /ko -->

                        <!-- Session trigger -->

                       
                             <!-- ko if: $parent.trigger()[$index()] === 0 -->
                        <img class="sessionTrigger" src="Images/sessiontrigger/activity_end.png" title="Activity end"/>
                        <!-- /ko -->

                              <!-- ko if: $parent.trigger()[$index()] === 1 -->
                        <img class="sessionTrigger" src="Images/sessiontrigger/manual.png" title="User changed sport (MODE)"/>
                        <!-- /ko -->

                            <!-- ko if: $parent.trigger()[$index()] === 2 -->
                        <img class="sessionTrigger" src="Images/sessiontrigger/auto_multi_sport.png" title="Auto multi-sport feature is enabled and user pressed LAP button to advance session" />
                        <!-- /ko -->

                            <!-- ko if: $parent.trigger()[$index()] === 3 -->
                        <img class="sessionTrigger" src="Images/sessiontrigger/fitness_equipment.png" title="Auto sport change caused by user linking to fitness equipment" />
                         <!-- /ko -->
                       
                        
                       
                        

                        </a>
                    
                </article>
            </section>
             <!-- /ko -->

            <div data-bind="text: ko.toJSON($root)"></div>

             <hr/> 
        </section>

        <!-- 
        <div class="SessionLapErrorUndefined" data-bind="if: !hasSession" >
            <p>No sessions found</p>
        </div> -->

        <section id="divLaps" >
            
            

           <!-- <h4>Laps</h4>-->
             <!-- ko if: $root !== undefined && $root.timestamp !== undefined -->
            <section id="lapList" data-bind="foreach: timestamp">
                <article>
                    <a href="#" >

          <!--   Sport enum
            //generic 0
            //running 1
            //cycling 2
            //transition 3 - Multisport transition
            //fitness_equipment 4
            //swimming 5
            //basketball 6
            //soccer 7
            //tennis 8
            //american_football 9
            //training 10
            //all 254 All is for goals only to include all sports.-->
                        

                        <!-- ko if: $parent.sport !== undefined && $parent.sport()[$index()] === 1 -->
                        <img class="lapSport" src="Images/sport/running.png" title="Running" alt="Running"/>
                        <!-- /ko -->
                        
                        <!-- ko if: $parent.sport !== undefined && $parent.sport()[$index()] === 2 -->
                        <img class="lapSport" src="Images/sport/cycling.png" title="Cycling" alt="Cycling" />
                        <!-- /ko -->
                        
                        <!-- ko if: $parent.sport !== undefined && $parent.sport()[$index()] === 5 -->
                        <img class="lapSport" src="Images/sport/swimming.png" title="Swimming" alt="Swimming" />
                        <!-- /ko -->
                        

                        <span class="lapNr" data-bind="text: $index()+1"></span>
                        <br />

                        <!-- ko if: $parent.total_elapsed_time !== undefined && $parent.total_elapsed_time().length > 0 && $parent.total_elapsed_time()[$index()].value > 0 -->
                       
                        <time ><span data-bind="text: $parent.total_elapsed_time()[$index()].toHHMMSS()"></span></time>
                        <!-- /ko -->

                        <!-- ko if: $parent.total_distance !== undefined && $parent.total_distance()[$index()] > 0 -->
                            <span data-bind="text: $parent.total_distance()[$index()]"></span>m<br />
                        <!-- /ko -->

                          

                        <div>

                           
                        <!-- ko if: $parent.total_calories !== undefined && $parent.total_calories()[$index()] > 0 -->
                        <span style="float : left" data-bind="text: $parent.total_calories()[$index()]"></span>kcal
                        <!-- /ko -->

                        <!-- ko if:  $parent.total_fat_calories !== undefined && $parent.total_fat_calories()[$index()] > 0 -->
                        <span style="float : left" data-bind="text: $parent.total_fat_calories()[$index()]"></span>kcal
                        <!-- /ko -->

                            
                            
                             

                                 <!-- Lap triggers
                                
                            manual 0
                            time 1
                            distance 2
                            position_start 3
                            position_lap 4
                            position_waypoint 5
                            position_marked 6
                            session_end 7

                                 -->

                            <!-- ko if: $parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 0 -->
                        <img class="lapTrigger" src="Images/laptrigger/manual.png" title="Manual - LAP pressed"/>
                        <!-- /ko -->

                             

                              <!-- ko if: $parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 1 -->
                        <img class="lapTrigger" src="Images/laptrigger/time.png" title="Time"/>
                        <!-- /ko -->

                            <!-- ko if: $parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 2 -->
                        <img class="lapTrigger" src="Images/laptrigger/distance.png" title="Distance" />
                        <!-- /ko -->

                            <!-- ko if:$parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 3 -->
                        <img class="lapTrigger" src="Images/laptrigger/position_start.png" title="Position start" />
                        <!-- /ko -->

                            <!-- ko if:$parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 4 -->
                        <img class="lapTrigger" src="Images/laptrigger/position_lap.png" title="Position lap" />
                        <!-- /ko -->

                            <!-- ko if: $parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 5 -->
                        <img class="lapTrigger" src="Images/laptrigger/position_waypoint.png" title="Position waypoint" />
                        <!-- /ko -->

                            <!-- ko if:$parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 6 -->
                        <img class="lapTrigger" src="Images/laptrigger/position_marked.png" title="Position marked" />
                        <!-- /ko -->

                         <!-- ko if: $parent.lap_trigger !== undefined && $parent.lap_trigger()[$index()] === 7 -->
                        <img class="lapTrigger" src="Images/laptrigger/session_end.png" title="Session end" />
                        <!-- /ko -->
                              
                        
                             </div>
                       
                    </a>


                   
                </article>
            </section>
            <!-- /ko -->

            <div data-bind="text: ko.toJSON($root)"></div>

            <hr/> 

        </section>

        <!-- 
        <div class="SessionLapErrorUndefined" data-bind="if: !hasLap" >
            <p>No laps found</p>
        </div>-->

    </div>

    <section id="activityMap"></section>
    
    
    <section id="testChart"></section>
    <section id="hrvChart"></section>
    
    
    <div>
        
         <div id="divMsgMap"></div>
    </div>
    <div >
      <div id="speedVsHRChart"></div>
      <div id="zonesChart"></div>
    </div>
    
    
<!--    <div id="divHRZones"  >
        <h3 style="text-align:center">Heart Rate Zones</h3>
        <button id="btnSaveZones" type="button">Save</button>
        <button id="btnNewZone" type="button">New</button>
   
    </div>-->

   
    
    
</body>

</html>
